const BOT = require('./vk')
const Games = require('./commands/games')
const Kicker = require('./commands/kicker')
const SavedData = require('./commands/savedData')
const DateC = require('./commands/date')
const Citgen = require('./commands/citgen')
const Troll = require('./commands/troll')
const Autosend = require('./automaticSender')
const Trollgen = require('./commands/trollgen')

require('http').createServer().listen(process.env.PORT || 8000).on('request', function (res) {
  res.end('')
})

BOT.MESSAGES.hear('/start', async (context) => {
  await context.send(`–ü—Ä–∏–≤–µ—Ç! üëã
ü§ñ –Ø - –ë–æ—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≥—Ä—É–ø–ø—ã ${BOT.CONFIG.NAME_GROUP} ${BOT.CONFIG.NAME_PLACE}. –Ø –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ –±—É–¥—É –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–µ–Ω –≤–∞–º, –∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–π –æ–ø—ã—Ç ‚ò∫Ô∏è. –ü–æ—Å–∫–æ–ª—å–∫—É —è –º–æ–≥—É –º–Ω–æ–≥–æ–µ, —è –ø—Ä–∏–≤–æ–∂—É —Å–ø–∏—Å–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–∏—Ö –∫–æ–º–∞–Ω–¥:

/–¥–∞—Ç–∞ - —É–∑–Ω–∞–π –¥–∑ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/–¥–∑ –∑–∞–≤—Ç—Ä–∞ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ –∑–∞–≤—Ç—Ä–∞
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/–∏–≥—Ä—ã - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –≤—ã–±–æ—Ä–æ–º –∏–≥—Ä (–¥–∞-–¥–∞, –Ω–µ —É–¥–∏–≤–ª—è–π—Ç–µ—Å—å)
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/—à–ø–æ—Ä–∞ - –¥–æ–±–∞–≤–ª—è–π –≤–∞–∂–Ω—ã–µ —Ñ–æ—Ç–æ/–¥–æ–∫—É–º–µ–Ω—Ç—ã/—à–ø–æ—Ä—ã, —á—Ç–æ–±—ã –Ω–µ –∏—Å–∫–∞—Ç—å –ø–æ—Ç–æ–º –ø–æ –≤—Å–µ–π –±–µ—Å–µ–¥–µ
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/–∫–æ–º–∞–Ω–¥—ã - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–æ–∏—Ö –∫–æ–º–∞–Ω–¥
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/help - –º–æ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è`)
})

BOT.MESSAGES.hear('/help', async (context) => {
  await context.send(`–ò—Ç–∞–∫, –≤–æ—Ç –≤–∞–º –±–æ–ª–µ–µ-–º–µ–Ω–µ–µ –∫—Ä–∞—Ç–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.
–ú–æ–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: https://github.com/sashafromlibertalia/SchoolBot

–ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –º–æ–∏–º –∫–æ–º–∞–Ω–¥–∞–º: /start

–û—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–µ –∏–ª–∏ –∏–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–∑–≤–∞–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? –ü—Ä–æ—Å—Ç–æ! 
–Ø –¥–µ–ª–∞—é —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ —Ç–æ –∏–ª–∏ –∏–Ω–æ–µ —Å–ª–æ–≤–æ, –∞ –±–æ—Ç –Ω–∞ –Ω–µ–≥–æ –æ—Ç–≤–µ—á–∞–µ—Ç.

–ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ /–≥–¥–∑:
–í—ã –ø–∏—à–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É "/–≥–¥–∑" –∏ —Å–ª–µ–¥–æ–º —Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏. –ü—Ä–∏–º–µ—Ä:
/–≥–¥–∑ –ò–∑ –¥–≤—É—Ö –≥–æ—Ä–æ–¥–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞ –≤—Å—Ç—Ä–µ—á—É –¥—Ä—É–≥ –¥—Ä—É–≥—É –æ—Ç–ø—Ä–∞–≤–∏–ª–∏—Å—å –¥–≤–∞ –ø–æ–µ–∑–¥–∞. 

–°–æ –≤—Ä–µ–º–µ–Ω–µ–º –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –≤—ã –æ–± —ç—Ç–æ–º –º–µ–Ω—è –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –∏ –µ—Å–ª–∏ –≤ —ç—Ç–æ–º –±—É–¥–µ—Ç –≤–æ–æ–±—â–µ –≤—Å—è–∫–∏–π —Å–º—ã—Å–ª`)
})

BOT.MESSAGES.hear('/–∫–æ–º–∞–Ω–¥—ã', async (context) => {
  await context.send(`–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–æ–∏—Ö –∫–æ–º–∞–Ω–¥:
/–¥–∞—Ç–∞ - —É–∑–Ω–∞–π –¥–∑ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/–¥–∑ –∑–∞–≤—Ç—Ä–∞ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ –∑–∞–≤—Ç—Ä–∞
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/–¥–∑ –≤—Å–µ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ –≤—Å—é –Ω–µ–¥–µ–ª—é
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/–∏–≥—Ä—ã - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –≤—ã–±–æ—Ä–æ–º –∏–≥—Ä (–¥–∞-–¥–∞, –Ω–µ —É–¥–∏–≤–ª—è–π—Ç–µ—Å—å)
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/–æ—Ç–∑—ã–≤ - –Ω–∞–ø–∏—à–∏ –æ—Ç–∑—ã–≤, –∏ –°–∞—à–∞ –µ–≥–æ —É–≤–∏–¥–∏—Ç. –í–ê–ñ–ù–û: –æ—Ç–∑—ã–≤ –∞–Ω–æ–Ω–∏–º–µ–Ω 
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/—à–ø–æ—Ä–∞ - –¥–æ–±–∞–≤–ª—è–π –≤–∞–∂–Ω—ã–µ —Ñ–æ—Ç–æ/–¥–æ–∫—É–º–µ–Ω—Ç—ã/—à–ø–æ—Ä—ã, —á—Ç–æ–±—ã –Ω–µ –∏—Å–∫–∞—Ç—å –ø–æ—Ç–æ–º –ø–æ –≤—Å–µ–π –±–µ—Å–µ–¥–µ
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/—à–ø–æ—Ä–∞ —Å–ø–∏—Å–æ–∫ - —Å–ø–∏—Å–æ–∫ —à–ø–æ—Ä
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/—à–ø–æ—Ä–∞ ? - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/—Ç—Ä–æ–ª–ª—å - –ø–µ—Ä–µ—à–ª–∏—Ç–µ —á—å–µ-—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–∏—à–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/citgen - –ø–µ—Ä–µ—à–ª–∏—Ç–µ —á—å–µ-—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–∏—à–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/trollgen - –ø–µ—Ä–µ—à–ª–∏—Ç–µ —á—å–µ-—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–∏—à–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
/help - –º–æ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

–ë–æ—Ç, –∫—Å—Ç–∞—Ç–∏, —Å–∞–º —É–º–µ–µ—Ç –ø—Ä–∏—Å—ã–ª–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –∑—É–º!`)
})

BOT.MESSAGES.hear(/^\/–æ—Ç–∑—ã–≤ (.+)/i, async (context) => {
  const feedback = context.$match[1]
  await context.send(`–•–æ—Ä–æ—à–æ, —Ç–≤–æ–π –æ—Ç–∑—ã–≤ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω ${BOT.CONFIG.NAME_ADMIN_DAT}, —Å–ø–∞—Å–∏–±–æ :)`)
  BOT.API.messages.send({
    message: '–ù–û–í–´–ô –û–¢–ó–´–í: ' + feedback,
    domain: BOT.CONFIG.ADMIN_DOMAIN,
    random_id: BOT.RANDOM()
  })
})

Kicker.run()
Citgen.run()
DateC.run()
SavedData.run()
Games.run()
Troll.run
Autosend.run()
Trollgen.run()

BOT.VK.updates.start().catch(console.error)
